<!DOCTYPE html>
<html lang="ar">
    
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <title> Speech to Text </title>
    </head>
    <body>
     <div calss="b"  contenteditable style="background-color:rgb(252, 57, 154);border: 1px solid rgb(236, 7, 168);font-style: oblique; "> 
        <h3 align="center">Speech to Text </h3>
        <h3 align="center">المحادثة الصوتية الألية </h3>
        </div>
        <div class="words" contenteditable style="border: 1px solid rgb(7, 47, 228);  background-color: rgb(31, 154, 236);
        height: 300px; border-radius: 8px;"> 
        <p id="p" align="center"></p> 
        </div>    
        <script> 
            var speech = true; 
            window.SpeechRecognition = window.SpeechRecognition 
                || window.webkitSpeechRecognition; 
           
            const recognition = new SpeechRecognition(); 
            recognition.interimResults = true; 
            const words = document.querySelector('.words'); 
            words.appendChild(p); 
              recognition.lang ='ar'; 
            recognition.addEventListener('result', e => { 
             const transcript = Array.from(e.results) 
              .map(result => result[0]) 
              .map(result => result.transcript) 
              .join('') 
           
             document.getElementById("p").innerHTML = transcript; 
             console.log(transcript); 
            }); 
            if (speech == true) { 
             recognition.start(); 
             recognition.addEventListener('end', recognition.start); 
            } 
           
           </script> 
     </body>
</html>